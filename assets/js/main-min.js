const generaLetra=document.getElementById("genera-letra-aleatoria"),inputLetra=document.getElementById("input-letra"),letrasResultado=document.getElementById("letras-resultado"),trash=document.getElementById("trash"),arrLetras=[],letras="ABCDEFGHIJKLMNOPQRSTUVWXYZ";localStorage.setItem("letras",JSON.stringify(letras.split(""))),localStorage.setItem("countLetras",0),localStorage.setItem("letrasGeneradas",JSON.stringify([])),localStorage.setItem("letrasRestantes",JSON.stringify([])),generaLetra.addEventListener("click",(e=>{e.preventDefault();const t=localStorage.getItem("letras")?JSON.parse(localStorage.getItem("letras")):[],a=localStorage.getItem("letrasGeneradas")?JSON.parse(localStorage.getItem("letrasGeneradas")):[];for(let e=0;e<a.length;e++){const s=t.indexOf(a[e]);s>-1&&t.splice(s,1)}localStorage.setItem("letrasRestantes",JSON.stringify(t)),localStorage.setItem("countLetras",t.length-1);const s=localStorage.getItem("countLetras"),r=t[Math.floor(Math.random()*t.length)];inputLetra.classList.add("animate__animated","animate__flip"),generaLetra.disabled=!0,inputLetra.value="?",setTimeout((()=>{inputLetra.classList.remove("animate__animated","animate__flip"),generaLetra.disabled=!1,inputLetra.value=r,arrLetras.push(r);const e=JSON.parse(localStorage.getItem("letrasRestantes")),t=e.indexOf(r);t>-1&&e.splice(t,1),localStorage.setItem("letrasRestantes",JSON.stringify(e));let a=JSON.parse(localStorage.getItem("letrasRestantes"));a=a.join(" ");let l=`<span style="font-size: 1rem">${a}</span>`,n=s>=1?`<br><span style="font-size: 1.5rem">Restantes: ${s}</span>`:"";if(letrasResultado.innerHTML=arrLetras.join(" ")+n+"<br>"+l,localStorage.setItem("letrasGeneradas",JSON.stringify(arrLetras)),0===parseInt(s))return localStorage.setItem("letras",JSON.stringify(letras.split(""))),localStorage.setItem("letrasGeneradas",JSON.stringify([])),localStorage.setItem("countLetras",0),arrLetras.length=0,void(letrasResultado.innerHTML+='<div class="mt-3">Ya no hay letras<br>¡Vuelve a empezar!</div>')}),700)})),trash.addEventListener("click",(e=>{e.preventDefault(),letrasResultado.innerHTML='<span id="nueva-partida" class="animate__animated animate__fadeInDown">¡Nueva Partida!</span>',setTimeout((()=>{let e=document.getElementById("nueva-partida");e.classList.remove("animate__animated","animate__fadeInDown"),e.classList.add("animate__animated","animate__fadeOutDown"),setTimeout((()=>{e.classList.remove("animate__animated","animate__fadeOutDown"),letrasResultado.innerHTML=""}),1e3)}),1500),inputLetra.value="?",localStorage.setItem("letrasGeneradas",JSON.stringify([])),arrLetras.length=0,localStorage.setItem("countLetras",0)}));